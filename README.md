<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# terraform-azurerm-avm-template

This is a template repo for Terraform Azure Verified Modules.

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.9, < 2.0)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

- <a name="requirement_modtm"></a> [modtm](#requirement\_modtm) (~> 0.3)

- <a name="requirement_random"></a> [random](#requirement\_random) (~> 3.5)

## Resources

The following resources are used by this module:

- [azapi_resource.cache_storage_account](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.management_lock](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.migrate_project](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.migrate_project_role_assignment](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.protected_item](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.replication_extension](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.replication_policy](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.replication_vault](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.role_assignment](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.solution_assessment](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.solution_data_replication](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.solution_discovery](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.solution_migration](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.source_dra_storage_blob_contributor](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.source_dra_storage_contributor](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.target_dra_storage_blob_contributor](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.target_dra_storage_contributor](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.vault_storage_blob_contributor](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.vault_storage_contributor](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource_action.planned_failover_hyperv](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource_action) (resource)
- [azapi_resource_action.planned_failover_vmware](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource_action) (resource)
- [azapi_resource_action.remove_replication](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource_action) (resource)
- [azapi_update_resource.update_solution_storage](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/update_resource) (resource)
- [modtm_telemetry.telemetry](https://registry.terraform.io/providers/azure/modtm/latest/docs/resources/telemetry) (resource)
- [random_uuid.telemetry](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/uuid) (resource)
- [azapi_client_config.telemetry](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/client_config) (data source)
- [azapi_resource.migrate_project_existing](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.protected_item_by_id](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.protected_item_by_name](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.protected_item_to_migrate](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.protected_item_to_remove](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.replication_job](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.replication_solution](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.replication_vault](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.vault_for_get](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.vault_for_jobs](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource.vault_for_list](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource) (data source)
- [azapi_resource_list.discovered_servers](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource_list) (data source)
- [azapi_resource_list.protected_items](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource_list) (data source)
- [azapi_resource_list.replication_fabrics](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource_list) (data source)
- [azapi_resource_list.replication_jobs](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource_list) (data source)
- [azapi_resource_list.source_fabric_agents](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource_list) (data source)
- [azapi_resource_list.target_fabric_agents](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource_list) (data source)
- [modtm_module_source.telemetry](https://registry.terraform.io/providers/azure/modtm/latest/docs/data-sources/module_source) (data source)

<!-- markdownlint-disable MD013 -->
## Required Inputs

The following input variables are required:

### <a name="input_location"></a> [location](#input\_location)

Description: Azure region where resources should be deployed. Required when create\_migrate\_project is true.

Type: `string`

### <a name="input_name"></a> [name](#input\_name)

Description: The name of the migration resource.

Type: `string`

### <a name="input_parent_id"></a> [parent\_id](#input\_parent\_id)

Description: The resource ID of the resource group where resources will be deployed. Format: /subscriptions/{subscription-id}/resourceGroups/{resource-group-name}

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_app_consistent_frequency_minutes"></a> [app\_consistent\_frequency\_minutes](#input\_app\_consistent\_frequency\_minutes)

Description: Application consistent snapshot frequency in minutes

Type: `number`

Default: `240`

### <a name="input_appliance_name"></a> [appliance\_name](#input\_appliance\_name)

Description: Appliance name (maps to site name)

Type: `string`

Default: `null`

### <a name="input_cache_storage_account_id"></a> [cache\_storage\_account\_id](#input\_cache\_storage\_account\_id)

Description: Storage Account ARM ID for cache/private endpoint scenario

Type: `string`

Default: `null`

### <a name="input_crash_consistent_frequency_minutes"></a> [crash\_consistent\_frequency\_minutes](#input\_crash\_consistent\_frequency\_minutes)

Description: Crash consistent snapshot frequency in minutes

Type: `number`

Default: `60`

### <a name="input_create_migrate_project"></a> [create\_migrate\_project](#input\_create\_migrate\_project)

Description: Whether to create a new Azure Migrate project. If false, an existing project is queried.

Type: `bool`

Default: `false`

### <a name="input_custom_location_id"></a> [custom\_location\_id](#input\_custom\_location\_id)

Description: Custom location ARM ID for Arc

Type: `string`

Default: `null`

### <a name="input_diagnostic_settings"></a> [diagnostic\_settings](#input\_diagnostic\_settings)

Description: A map of diagnostic settings to create on the Key Vault. The map key is deliberately arbitrary to avoid issues where map keys maybe unknown at plan time.

- `name` - (Optional) The name of the diagnostic setting. One will be generated if not set, however this will not be unique if you want to create multiple diagnostic setting resources.
- `log_categories` - (Optional) A set of log categories to send to the log analytics workspace. Defaults to `[]`.
- `log_groups` - (Optional) A set of log groups to send to the log analytics workspace. Defaults to `["allLogs"]`.
- `metric_categories` - (Optional) A set of metric categories to send to the log analytics workspace. Defaults to `["AllMetrics"]`.
- `log_analytics_destination_type` - (Optional) The destination type for the diagnostic setting. Possible values are `Dedicated` and `AzureDiagnostics`. Defaults to `Dedicated`.
- `workspace_resource_id` - (Optional) The resource ID of the log analytics workspace to send logs and metrics to.
- `storage_account_resource_id` - (Optional) The resource ID of the storage account to send logs and metrics to.
- `event_hub_authorization_rule_resource_id` - (Optional) The resource ID of the event hub authorization rule to send logs and metrics to.
- `event_hub_name` - (Optional) The name of the event hub. If none is specified, the default event hub will be selected.
- `marketplace_partner_resource_id` - (Optional) The full ARM resource ID of the Marketplace resource to which you would like to send Diagnostic LogsLogs.

Type:

```hcl
map(object({
    name                                     = optional(string, null)
    log_categories                           = optional(set(string), [])
    log_groups                               = optional(set(string), ["allLogs"])
    metric_categories                        = optional(set(string), ["AllMetrics"])
    log_analytics_destination_type           = optional(string, "Dedicated")
    workspace_resource_id                    = optional(string, null)
    storage_account_resource_id              = optional(string, null)
    event_hub_authorization_rule_resource_id = optional(string, null)
    event_hub_name                           = optional(string, null)
    marketplace_partner_resource_id          = optional(string, null)
  }))
```

Default: `{}`

### <a name="input_disks_to_include"></a> [disks\_to\_include](#input\_disks\_to\_include)

Description: A list of disks to include for replication (power user mode). Each object in the list includes the following properties:

- `disk_id` - (Required) The unique identifier of the disk to replicate.
- `disk_size_gb` - (Required) The size of the disk in gigabytes.
- `disk_file_format` - (Optional) The file format of the disk. Defaults to `"VHDX"`.
- `is_os_disk` - (Required) Whether this disk is the operating system disk.
- `is_dynamic` - (Optional) Whether the disk is dynamic. Defaults to `true`.

Type:

```hcl
list(object({
    disk_id          = string
    disk_size_gb     = number
    disk_file_format = optional(string, "VHDX")
    is_os_disk       = bool
    is_dynamic       = optional(bool, true)
  }))
```

Default: `[]`

### <a name="input_enable_telemetry"></a> [enable\_telemetry](#input\_enable\_telemetry)

Description: This variable controls whether or not telemetry is enabled for the module.  
For more information see <https://aka.ms/avm/telemetryinfo>.  
If it is set to false, then no telemetry will be collected.

Type: `bool`

Default: `true`

### <a name="input_force_remove"></a> [force\_remove](#input\_force\_remove)

Description: Specifies whether the replication needs to be force removed. Use with caution as force removal may leave resources in an inconsistent state.

Type: `bool`

Default: `false`

### <a name="input_hyperv_generation"></a> [hyperv\_generation](#input\_hyperv\_generation)

Description: Hyper-V generation (1 or 2)

Type: `string`

Default: `"1"`

### <a name="input_instance_type"></a> [instance\_type](#input\_instance\_type)

Description: Migration instance type

Type: `string`

Default: `"VMwareToAzStackHCI"`

### <a name="input_is_dynamic_memory_enabled"></a> [is\_dynamic\_memory\_enabled](#input\_is\_dynamic\_memory\_enabled)

Description: Whether RAM is dynamic

Type: `bool`

Default: `false`

### <a name="input_job_name"></a> [job\_name](#input\_job\_name)

Description: Specific job name to retrieve. If not provided, all jobs will be listed.

Type: `string`

Default: `null`

### <a name="input_lock"></a> [lock](#input\_lock)

Description: Controls the Resource Lock configuration for this resource. The following properties can be specified:

- `kind` - (Required) The type of lock. Possible values are `\"CanNotDelete\"` and `\"ReadOnly\"`.
- `name` - (Optional) The name of the lock. If not specified, a name will be generated based on the `kind` value. Changing this forces the creation of a new resource.

Type:

```hcl
object({
    kind = string
    name = optional(string, null)
  })
```

Default: `null`

### <a name="input_machine_id"></a> [machine\_id](#input\_machine\_id)

Description: Machine ARM ID of the discovered server to migrate

Type: `string`

Default: `null`

### <a name="input_machine_name"></a> [machine\_name](#input\_machine\_name)

Description: Source machine internal name

Type: `string`

Default: `null`

### <a name="input_managed_identities"></a> [managed\_identities](#input\_managed\_identities)

Description: Controls the Managed Identity configuration on this resource. The following properties can be specified:

- `system_assigned` - (Optional) Specifies if the System Assigned Managed Identity should be enabled.
- `user_assigned_resource_ids` - (Optional) Specifies a list of User Assigned Managed Identity resource IDs to be assigned to this resource.

Type:

```hcl
object({
    system_assigned            = optional(bool, false)
    user_assigned_resource_ids = optional(set(string), [])
  })
```

Default: `{}`

### <a name="input_nic_id"></a> [nic\_id](#input\_nic\_id)

Description: NIC ID for the source server (default user mode). Used when nics\_to\_include is not provided but target\_virtual\_switch\_id is specified.

Type: `string`

Default: `null`

### <a name="input_nics_to_include"></a> [nics\_to\_include](#input\_nics\_to\_include)

Description: A list of NICs to include for replication (power user mode). Each object in the list includes the following properties:

- `nic_id` - (Required) The unique identifier of the network interface card to replicate.
- `target_network_id` - (Required) The ARM resource ID of the target logical network for the NIC.
- `test_network_id` - (Optional) The ARM resource ID of the test logical network for the NIC.
- `selection_type` - (Optional) The selection type for the NIC. Defaults to `"SelectedByUser"`.

Type:

```hcl
list(object({
    nic_id            = string
    target_network_id = string
    test_network_id   = optional(string)
    selection_type    = optional(string, "SelectedByUser")
  }))
```

Default: `[]`

### <a name="input_operation_mode"></a> [operation\_mode](#input\_operation\_mode)

Description: The migration operation to perform: create-project, discover, initialize, replicate, jobs, remove, get, list, or migrate

Type: `string`

Default: `"discover"`

### <a name="input_os_disk_id"></a> [os\_disk\_id](#input\_os\_disk\_id)

Description: Operating system disk ID for the source server (default user mode)

Type: `string`

Default: `null`

### <a name="input_os_disk_size_gb"></a> [os\_disk\_size\_gb](#input\_os\_disk\_size\_gb)

Description: OS disk size in GB for default user mode. Used when disks\_to\_include is not provided.

Type: `number`

Default: `60`

### <a name="input_policy_name"></a> [policy\_name](#input\_policy\_name)

Description: Replication policy name

Type: `string`

Default: `null`

### <a name="input_project_name"></a> [project\_name](#input\_project\_name)

Description: Azure Migrate project name

Type: `string`

Default: `null`

### <a name="input_protected_item_id"></a> [protected\_item\_id](#input\_protected\_item\_id)

Description: The full ARM resource ID of the protected item to retrieve. Required for 'get' operation mode when retrieving by ID. Format: /subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/Microsoft.DataReplication/replicationVaults/{vault-name}/protectedItems/{item-name}

Type: `string`

Default: `null`

### <a name="input_protected_item_name"></a> [protected\_item\_name](#input\_protected\_item\_name)

Description: The name of the protected item to retrieve. Required for 'get' operation mode when retrieving by name (requires project\_name or replication\_vault\_id).

Type: `string`

Default: `null`

### <a name="input_recovery_point_history_minutes"></a> [recovery\_point\_history\_minutes](#input\_recovery\_point\_history\_minutes)

Description: Recovery point retention in minutes

Type: `number`

Default: `4320`

### <a name="input_replication_extension_name"></a> [replication\_extension\_name](#input\_replication\_extension\_name)

Description: Replication extension name (for replicate mode)

Type: `string`

Default: `null`

### <a name="input_replication_vault_id"></a> [replication\_vault\_id](#input\_replication\_vault\_id)

Description: Replication vault ARM ID (for replicate mode)

Type: `string`

Default: `null`

### <a name="input_role_assignments"></a> [role\_assignments](#input\_role\_assignments)

Description: A map of role assignments to create on this resource. The map key is deliberately arbitrary to avoid issues where map keys maybe unknown at plan time.

- `role_definition_id_or_name` - The ID or name of the role definition to assign to the principal.
- `principal_id` - The ID of the principal to assign the role to.
- `description` - The description of the role assignment.
- `skip_service_principal_aad_check` - If set to true, skips the Azure Active Directory check for the service principal in the tenant. Defaults to false.
- `condition` - The condition which will be used to scope the role assignment.
- `condition_version` - The version of the condition syntax. Valid values are '2.0'.
- `delegated_managed_identity_resource_id` - The delegated Azure Resource Id which contains a Managed Identity. Changing this forces a new resource to be created.
- `principal_type` - The type of the principal\_id. Possible values are `User`, `Group` and `ServicePrincipal`. Changing this forces a new resource to be created. It is necessary to explicitly set this attribute when creating role assignments if the principal creating the assignment is constrained by ABAC rules that filters on the PrincipalType attribute.

> Note: only set `skip_service_principal_aad_check` to true if you are assigning a role to a service principal.

Type:

```hcl
map(object({
    role_definition_id_or_name             = string
    principal_id                           = string
    description                            = optional(string, null)
    skip_service_principal_aad_check       = optional(bool, false)
    condition                              = optional(string, null)
    condition_version                      = optional(string, null)
    delegated_managed_identity_resource_id = optional(string, null)
    principal_type                         = optional(string, null)
  }))
```

Default: `{}`

### <a name="input_run_as_account_id"></a> [run\_as\_account\_id](#input\_run\_as\_account\_id)

Description: Run-as account ARM ID

Type: `string`

Default: `null`

### <a name="input_shutdown_source_vm"></a> [shutdown\_source\_vm](#input\_shutdown\_source\_vm)

Description: Whether to shut down the source VM before migration. Recommended to set to true to ensure data consistency. Required for 'migrate' operation mode.

Type: `bool`

Default: `false`

### <a name="input_source_appliance_name"></a> [source\_appliance\_name](#input\_source\_appliance\_name)

Description: Source appliance name for AzLocal scenario

Type: `string`

Default: `null`

### <a name="input_source_fabric_agent_name"></a> [source\_fabric\_agent\_name](#input\_source\_fabric\_agent\_name)

Description: Source fabric agent (DRA) name

Type: `string`

Default: `null`

### <a name="input_source_fabric_id"></a> [source\_fabric\_id](#input\_source\_fabric\_id)

Description: Source replication fabric ARM ID

Type: `string`

Default: `null`

### <a name="input_source_machine_type"></a> [source\_machine\_type](#input\_source\_machine\_type)

Description: Source machine type (VMware or HyperV)

Type: `string`

Default: `"VMware"`

### <a name="input_source_vm_cpu_cores"></a> [source\_vm\_cpu\_cores](#input\_source\_vm\_cpu\_cores)

Description: Number of CPU cores from source VM

Type: `number`

Default: `2`

### <a name="input_source_vm_ram_mb"></a> [source\_vm\_ram\_mb](#input\_source\_vm\_ram\_mb)

Description: Source RAM size in MB

Type: `number`

Default: `4096`

### <a name="input_tags"></a> [tags](#input\_tags)

Description: (Optional) Tags of the resource.

Type: `map(string)`

Default: `null`

### <a name="input_target_appliance_name"></a> [target\_appliance\_name](#input\_target\_appliance\_name)

Description: Target appliance name for AzLocal scenario

Type: `string`

Default: `null`

### <a name="input_target_fabric_agent_name"></a> [target\_fabric\_agent\_name](#input\_target\_fabric\_agent\_name)

Description: Target fabric agent (DRA) name

Type: `string`

Default: `null`

### <a name="input_target_fabric_id"></a> [target\_fabric\_id](#input\_target\_fabric\_id)

Description: Target replication fabric ARM ID

Type: `string`

Default: `null`

### <a name="input_target_hci_cluster_id"></a> [target\_hci\_cluster\_id](#input\_target\_hci\_cluster\_id)

Description: Target HCI cluster ARM ID

Type: `string`

Default: `null`

### <a name="input_target_object_id"></a> [target\_object\_id](#input\_target\_object\_id)

Description: The protected item ARM ID for which replication needs to be disabled. Required for 'remove' operation mode. Format: /subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/Microsoft.DataReplication/replicationVaults/{vault-name}/protectedItems/{item-name}

Type: `string`

Default: `null`

### <a name="input_target_resource_group_id"></a> [target\_resource\_group\_id](#input\_target\_resource\_group\_id)

Description: Target resource group ARM ID for migrated VM resources

Type: `string`

Default: `null`

### <a name="input_target_storage_path_id"></a> [target\_storage\_path\_id](#input\_target\_storage\_path\_id)

Description: Storage path ARM ID where VMs will be stored

Type: `string`

Default: `null`

### <a name="input_target_test_virtual_switch_id"></a> [target\_test\_virtual\_switch\_id](#input\_target\_test\_virtual\_switch\_id)

Description: Test logical network ARM ID for VMs

Type: `string`

Default: `null`

### <a name="input_target_virtual_switch_id"></a> [target\_virtual\_switch\_id](#input\_target\_virtual\_switch\_id)

Description: Logical network ARM ID for VMs (default user mode)

Type: `string`

Default: `null`

### <a name="input_target_vm_cpu_cores"></a> [target\_vm\_cpu\_cores](#input\_target\_vm\_cpu\_cores)

Description: Number of CPU cores for target VM

Type: `number`

Default: `null`

### <a name="input_target_vm_name"></a> [target\_vm\_name](#input\_target\_vm\_name)

Description: Name of the VM to be created on target

Type: `string`

Default: `null`

### <a name="input_target_vm_ram_mb"></a> [target\_vm\_ram\_mb](#input\_target\_vm\_ram\_mb)

Description: Target RAM size in MB

Type: `number`

Default: `null`

## Outputs

The following outputs are exported:

### <a name="output_cache_storage_account_id"></a> [cache\_storage\_account\_id](#output\_cache\_storage\_account\_id)

Description: ID of the cache storage account

### <a name="output_cache_storage_account_name"></a> [cache\_storage\_account\_name](#output\_cache\_storage\_account\_name)

Description: Name of the cache storage account

### <a name="output_discovered_servers"></a> [discovered\_servers](#output\_discovered\_servers)

Description: List of discovered servers from Azure Migrate (filtered: index, machine\_name, ip\_addresses, operating\_system, boot\_type, os\_disk\_id)

### <a name="output_discovered_servers_count"></a> [discovered\_servers\_count](#output\_discovered\_servers\_count)

Description: Total number of discovered servers with discovery data

### <a name="output_discovered_servers_raw"></a> [discovered\_servers\_raw](#output\_discovered\_servers\_raw)

Description: Raw API response for discovered servers (for debugging)

### <a name="output_location_output"></a> [location\_output](#output\_location\_output)

Description: Azure region where resources are deployed

### <a name="output_machine_id"></a> [machine\_id](#output\_machine\_id)

Description: Machine ID being replicated

### <a name="output_migrate_project_id"></a> [migrate\_project\_id](#output\_migrate\_project\_id)

Description: The resource ID of the Azure Migrate project (created or existing)

### <a name="output_migration_operation_details"></a> [migration\_operation\_details](#output\_migration\_operation\_details)

Description: Detailed response from the migration operation including async operation URL for job tracking

### <a name="output_migration_protected_item_details"></a> [migration\_protected\_item\_details](#output\_migration\_protected\_item\_details)

Description: Details of the protected item being migrated (before migration)

### <a name="output_migration_status"></a> [migration\_status](#output\_migration\_status)

Description: Status of the migration (planned failover) operation

### <a name="output_migration_validation_warnings"></a> [migration\_validation\_warnings](#output\_migration\_validation\_warnings)

Description: Validation warnings or issues detected before migration

### <a name="output_operation_mode"></a> [operation\_mode](#output\_operation\_mode)

Description: Current operation mode

### <a name="output_project_name_output"></a> [project\_name\_output](#output\_project\_name\_output)

Description: Azure Migrate project name

### <a name="output_protected_item"></a> [protected\_item](#output\_protected\_item)

Description: Complete protected item details including replication status, health, and configuration

### <a name="output_protected_item_custom_properties"></a> [protected\_item\_custom\_properties](#output\_protected\_item\_custom\_properties)

Description: Custom properties including fabric-specific details, disk configuration, and network settings

### <a name="output_protected_item_details"></a> [protected\_item\_details](#output\_protected\_item\_details)

Description: Details of the protected item before removal (for validation)

### <a name="output_protected_item_health_errors"></a> [protected\_item\_health\_errors](#output\_protected\_item\_health\_errors)

Description: List of health errors for the protected item

### <a name="output_protected_item_id"></a> [protected\_item\_id](#output\_protected\_item\_id)

Description: ID of the protected item (replicated VM)

### <a name="output_protected_item_name"></a> [protected\_item\_name](#output\_protected\_item\_name)

Description: Name of the protected item

### <a name="output_protected_item_summary"></a> [protected\_item\_summary](#output\_protected\_item\_summary)

Description: Summary of protected item with key information

### <a name="output_protected_items_by_health"></a> [protected\_items\_by\_health](#output\_protected\_items\_by\_health)

Description: Protected items grouped by replication health

### <a name="output_protected_items_by_state"></a> [protected\_items\_by\_state](#output\_protected\_items\_by\_state)

Description: Protected items grouped by protection state

### <a name="output_protected_items_count"></a> [protected\_items\_count](#output\_protected\_items\_count)

Description: Total number of protected items found

### <a name="output_protected_items_list"></a> [protected\_items\_list](#output\_protected\_items\_list)

Description: Complete list of all protected items (replicated VMs) in the vault

### <a name="output_protected_items_summary"></a> [protected\_items\_summary](#output\_protected\_items\_summary)

Description: Summary list with key information for each protected item

### <a name="output_protected_items_with_errors"></a> [protected\_items\_with\_errors](#output\_protected\_items\_with\_errors)

Description: List of protected items that have health errors

### <a name="output_removal_operation_headers"></a> [removal\_operation\_headers](#output\_removal\_operation\_headers)

Description: Response headers from the removal operation (includes Azure-AsyncOperation and Location for job tracking)

### <a name="output_removal_status"></a> [removal\_status](#output\_removal\_status)

Description: Status of the replication removal operation

### <a name="output_replication_extension_id"></a> [replication\_extension\_id](#output\_replication\_extension\_id)

Description: ID of the replication extension

### <a name="output_replication_extension_name"></a> [replication\_extension\_name](#output\_replication\_extension\_name)

Description: Name of the replication extension

### <a name="output_replication_fabrics_available"></a> [replication\_fabrics\_available](#output\_replication\_fabrics\_available)

Description: List of all available replication fabrics in the resource group (useful for troubleshooting appliance discovery)

### <a name="output_replication_job"></a> [replication\_job](#output\_replication\_job)

Description: Detailed information for a specific replication job

### <a name="output_replication_jobs"></a> [replication\_jobs](#output\_replication\_jobs)

Description: Summary of all replication jobs in the vault

### <a name="output_replication_jobs_count"></a> [replication\_jobs\_count](#output\_replication\_jobs\_count)

Description: Total number of replication jobs in the vault

### <a name="output_replication_policy_id"></a> [replication\_policy\_id](#output\_replication\_policy\_id)

Description: ID of the replication policy

### <a name="output_replication_state"></a> [replication\_state](#output\_replication\_state)

Description: Current replication state

### <a name="output_replication_vault_id"></a> [replication\_vault\_id](#output\_replication\_vault\_id)

Description: ID of the replication vault

### <a name="output_replication_vault_identity"></a> [replication\_vault\_identity](#output\_replication\_vault\_identity)

Description: Managed identity of the replication vault

### <a name="output_resource_group_id"></a> [resource\_group\_id](#output\_resource\_group\_id)

Description: The resource group ID (same as parent\_id)

### <a name="output_resource_id"></a> [resource\_id](#output\_resource\_id)

Description: The resource ID of the primary resource managed by this module. For AVM compliance (RMFR7).

### <a name="output_source_fabric_discovered"></a> [source\_fabric\_discovered](#output\_source\_fabric\_discovered)

Description: Details of the auto-discovered source fabric (when using appliance name)

### <a name="output_source_fabric_id"></a> [source\_fabric\_id](#output\_source\_fabric\_id)

Description: Source fabric ID used for replication (auto-discovered from appliance name or explicitly provided)

### <a name="output_target_fabric_discovered"></a> [target\_fabric\_discovered](#output\_target\_fabric\_discovered)

Description: Details of the auto-discovered target fabric (when using appliance name)

### <a name="output_target_fabric_id"></a> [target\_fabric\_id](#output\_target\_fabric\_id)

Description: Target fabric ID used for replication (auto-discovered from appliance name or explicitly provided)

### <a name="output_target_vm_name_output"></a> [target\_vm\_name\_output](#output\_target\_vm\_name\_output)

Description: Name of the target VM to be created

### <a name="output_total_machines_count"></a> [total\_machines\_count](#output\_total\_machines\_count)

Description: Total number of machines (including those without discovery data)

### <a name="output_vault_id_for_jobs"></a> [vault\_id\_for\_jobs](#output\_vault\_id\_for\_jobs)

Description: Replication vault ID used for job queries

## Modules

No modules.

<!-- markdownlint-disable-next-line MD041 -->
## Data Collection

The software may collect information about you and your use of the software and send it to Microsoft. Microsoft may use this information to provide services and improve our products and services. You may turn off the telemetry as described in the repository. There are also some features in the software that may enable you and Microsoft to collect data from users of your applications. If you use these features, you must comply with applicable law, including providing appropriate notices to users of your applications together with a copy of Microsoftâ€™s privacy statement. Our privacy statement is located at <https://go.microsoft.com/fwlink/?LinkID=824704>. You can learn more about data collection and use in the help documentation and our privacy statement. Your use of the software operates as your consent to these practices.
<!-- END_TF_DOCS -->