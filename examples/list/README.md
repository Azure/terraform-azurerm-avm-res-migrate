<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# List Protected Items Example

This example demonstrates listing all protected items (replicated VMs) in a vault.

```hcl
# --------------------------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
# --------------------------------------------------------------------------------------------
#
# Example: List Protected Items
# This example demonstrates how to list all protected (replicating) VMs in a vault
#

terraform {
  required_version = ">= 1.5"

  required_providers {
    azapi = {
      source  = "azure/azapi"
      version = ">= 1.9, < 3.0"
    }
    azurerm = {
      source  = "hashicorp/azurerm"
      version = ">= 3.71, < 5.0"
    }
  }
}

provider "azurerm" {
  features {}
  subscription_id = var.subscription_id
}

# List all protected items in the vault
module "list_protected_items" {
  source = "../../"

  name                = "list-protected-items"
  resource_group_name = var.resource_group_name
  instance_type       = var.instance_type
  operation_mode      = "list"
  # List by project name (vault auto-discovered)
  project_name = var.project_name
  tags         = var.tags
}

```

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.5)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (>= 1.9, < 3.0)

- <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) (>= 3.71, < 5.0)

## Resources

No resources.

<!-- markdownlint-disable MD013 -->
## Required Inputs

No required inputs.

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_instance_type"></a> [instance\_type](#input\_instance\_type)

Description: The migration instance type (VMwareToAzStackHCI or HyperVToAzStackHCI)

Type: `string`

Default: `"VMwareToAzStackHCI"`

### <a name="input_location"></a> [location](#input\_location)

Description: Optional: The Azure region. If not specified, uses the resource group's location.

Type: `string`

Default: `null`

### <a name="input_project_name"></a> [project\_name](#input\_project\_name)

Description: The name of the Azure Migrate project (used to auto-discover vault)

Type: `string`

Default: `"saif-project-120126"`

### <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name)

Description: The name of the resource group containing the Azure Migrate project

Type: `string`

Default: `"saif-project-120126-rg"`

### <a name="input_subscription_id"></a> [subscription\_id](#input\_subscription\_id)

Description: The Azure subscription ID where resources will be deployed

Type: `string`

Default: `"f6f66a94-f184-45da-ac12-ffbfd8a6eb29"`

### <a name="input_tags"></a> [tags](#input\_tags)

Description: Tags to apply to resources

Type: `map(string)`

Default:

```json
{
  "Environment": "Test",
  "Purpose": "ListProtectedItems"
}
```

## Outputs

The following outputs are exported:

### <a name="output_healthy_items_count"></a> [healthy\_items\_count](#output\_healthy\_items\_count)

Description: Count of items with Normal health

### <a name="output_items_needing_attention_count"></a> [items\_needing\_attention\_count](#output\_items\_needing\_attention\_count)

Description: Count of items with health errors

### <a name="output_items_ready_for_migrate"></a> [items\_ready\_for\_migrate](#output\_items\_ready\_for\_migrate)

Description: Items that can perform planned failover (migration)

### <a name="output_items_requiring_resync"></a> [items\_requiring\_resync](#output\_items\_requiring\_resync)

Description: Items that require resynchronization

### <a name="output_protected_items_by_health"></a> [protected\_items\_by\_health](#output\_protected\_items\_by\_health)

Description: Protected items grouped by replication health

### <a name="output_protected_items_by_state"></a> [protected\_items\_by\_state](#output\_protected\_items\_by\_state)

Description: Protected items grouped by protection state

### <a name="output_protected_items_count"></a> [protected\_items\_count](#output\_protected\_items\_count)

Description: Total number of protected items

### <a name="output_protected_items_summary"></a> [protected\_items\_summary](#output\_protected\_items\_summary)

Description: Summary of all protected items with key details

### <a name="output_protected_items_with_errors"></a> [protected\_items\_with\_errors](#output\_protected\_items\_with\_errors)

Description: Protected items that have health errors

## Modules

The following Modules are called:

### <a name="module_list_protected_items"></a> [list\_protected\_items](#module\_list\_protected\_items)

Source: ../../

Version:

## Usage

See the [README.md](./README.md) for detailed information about the list operation mode.
<!-- END_TF_DOCS -->