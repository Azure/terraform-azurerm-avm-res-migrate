<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# Create New Azure Migrate Project

This example demonstrates how to create a new Azure Migrate project using the module.

## Key Features

- Creates a new Azure Migrate project in the specified resource group
- Optionally creates the resource group if it doesn't exist
- Configures the project with appropriate location and tags
- Uses the `create_migrate_project = true` flag to enable project creation

## Prerequisites

- An Azure subscription
- Appropriate permissions to create Azure Migrate projects in the subscription
- A supported Azure region (see variables.tf for the list)

## Important Notes

- Set `create_migrate_project = true` to create a new project
- Set `create_resource_group = true` to create a new resource group (or `false` to use existing)
- If set to `false` (default), the module will query an existing project
- The project name must be unique within the resource group
- Azure Migrate projects are only available in specific regions
- **VM Discovery must be performed from the Azure Portal after project creation**

```hcl
# Example: Create New Azure Migrate Project
# This example demonstrates how to create a new Azure Migrate project
# Note: The resource group must already exist. Use parent_id to specify it.

terraform {
  required_version = ">= 1.9"

  required_providers {
    azapi = {
      source  = "azure/azapi"
      version = "~> 2.4"
    }
  }
}

provider "azapi" {}

# Create a new Azure Migrate project
module "create_migrate_project" {
  source = "../../"

  location               = var.location
  name                   = "create-project"
  parent_id              = var.parent_id
  create_migrate_project = true # Set to true to create new project
  instance_type          = var.instance_type
  operation_mode         = "create-project"
  project_name           = var.project_name
  tags                   = var.tags
}
```

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.9)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

## Resources

No resources.

<!-- markdownlint-disable MD013 -->
## Required Inputs

The following input variables are required:

### <a name="input_parent_id"></a> [parent\_id](#input\_parent\_id)

Description: The resource ID of the resource group where the Migrate project will be created. Format: /subscriptions/{subscription-id}/resourceGroups/{resource-group-name}

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_instance_type"></a> [instance\_type](#input\_instance\_type)

Description: The migration instance type (VMwareToAzStackHCI or HyperVToAzStackHCI)

Type: `string`

Default: `"VMwareToAzStackHCI"`

### <a name="input_location"></a> [location](#input\_location)

Description: The Azure region where the Migrate project will be created. Note: Not all regions support Azure Migrate projects. Supported regions include: centralus, westus2, northeurope, westeurope, etc.

Type: `string`

Default: `"westus2"`

### <a name="input_project_name"></a> [project\_name](#input\_project\_name)

Description: The name of the new Azure Migrate project to create

Type: `string`

Default: `"saif-project-012726"`

### <a name="input_tags"></a> [tags](#input\_tags)

Description: Tags to apply to the Azure Migrate project

Type: `map(string)`

Default:

```json
{
  "Environment": "Production",
  "ManagedBy": "Terraform",
  "Purpose": "MigrateProject"
}
```

## Outputs

The following outputs are exported:

### <a name="output_migrate_project_id"></a> [migrate\_project\_id](#output\_migrate\_project\_id)

Description: The resource ID of the created Azure Migrate project

### <a name="output_migrate_project_name"></a> [migrate\_project\_name](#output\_migrate\_project\_name)

Description: The name of the created Azure Migrate project

### <a name="output_resource_group_id"></a> [resource\_group\_id](#output\_resource\_group\_id)

Description: The resource group ID containing the Migrate project

## Modules

The following Modules are called:

### <a name="module_create_migrate_project"></a> [create\_migrate\_project](#module\_create\_migrate\_project)

Source: ../../

Version:

## Next Steps

After creating the Migrate project:

### 1. Discover VMs from Azure Portal

**Important**: VM discovery should be performed from the Azure Portal, not through Terraform.

1. Navigate to **Azure Migrate** in the Azure Portal
2. Select your project: `saif-project-012626` (or your project name)
3. Click on **Discover, assess and migrate**
4. Follow the portal wizard to:
   - Set up the appliance (VMware or Hyper-V)
   - Configure discovery settings
   - Start discovering VMs from your source environment

### 2. Initialize Replication Infrastructure

Once VMs are discovered, use the `initialize` example to set up replication:

```bash
cd ../initialize
terraform init
terraform apply
```

### 3. Set Up VM Replication

After initialization, use the `replicate` example to start replicating VMs:

```bash
cd ../replicate
terraform init
terraform apply
```

## Clean Up

To remove the created Migrate project and resource group:

```bash
terraform destroy
```

**Note**: This will delete the entire resource group and all resources within it.
<!-- END_TF_DOCS -->